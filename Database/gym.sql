DROP TABLE TRAINER_HOURS CASCADE CONSTRAINTS;
DROP TABLE GROUP_TRAINING CASCADE CONSTRAINTS;
DROP TABLE WORKING_HOURS CASCADE CONSTRAINTS;
DROP TABLE GROUP_TRAINING_SCHEDULE CASCADE CONSTRAINTS;
DROP TABLE TRAINER CASCADE CONSTRAINTS;
DROP TABLE SHOP_PRODUCTS CASCADE CONSTRAINTS;
DROP TABLE SHOP CASCADE CONSTRAINTS;
DROP TABLE PRODUCTS CASCADE CONSTRAINTS;
DROP TABLE MEMBERSHIP CASCADE CONSTRAINTS;
DROP TABLE GYM_MEMBER CASCADE CONSTRAINTS;
DROP TABLE ADDRESS CASCADE CONSTRAINTS;
DROP TABLE PERSONAL_DATA CASCADE CONSTRAINTS;
DROP TABLE MEMBER_MEMBERSHIPS CASCADE CONSTRAINTS;
DROP TABLE RECEPTIONIST CASCADE CONSTRAINTS;
DROP TABLE MEMBERS_HISTORY_LOG CASCADE CONSTRAINTS;
        

--------------------------------------
-- CREATE ADDRESSES
--------------------------------------
CREATE TABLE ADDRESS (
    ADDRESS_ID NUMBER,
    POSTCODE VARCHAR2(20 CHAR) NOT NULL,
    CITY VARCHAR2(20 CHAR) NOT NULL,
    STREET VARCHAR2(20 CHAR) NOT NULL,
    CONSTRAINT ADDRESS_PK PRIMARY KEY (ADDRESS_ID)
);

COMMENT ON COLUMN "ADDRESS"."ADDRESS_ID" IS 'Primary key of address table.';
COMMENT ON COLUMN "ADDRESS"."POSTCODE" IS 'Postal code of the city.';
COMMENT ON COLUMN "ADDRESS"."CITY" IS 'City name.';
COMMENT ON COLUMN "ADDRESS"."STREET" IS 'Street name.';
COMMENT ON TABLE "ADDRESS" IS 'Address table. References with PERSONAL_DATA and SHOP tables';


-------------------------------------
--   CREATE PERSONAL DATA
-------------------------------------
CREATE TABLE PERSONAL_DATA(
    PERSONAL_DATA_ID NUMBER,
    FIRST_NAME VARCHAR2(30 CHAR) NOT NULL,
    LAST_NAME VARCHAR2(30 CHAR) NOT NULL,
    ADDRESS_ID NUMBER NOT NULL,
    PHONE_NUMBER VARCHAR2(9 CHAR),
    EMAIL VARCHAR2(50 CHAR) NOT NULL UNIQUE,
    CONSTRAINT PERSONAL_DATA_PK PRIMARY KEY (PERSONAL_DATA_ID),
    CONSTRAINT PERSONAL_DATA_ADDRESS_FK FOREIGN KEY (ADDRESS_ID) REFERENCES ADDRESS(ADDRESS_ID)
);

COMMENT ON TABLE PERSONAL_DATA IS 'Personal_data table stores personal data of all the people in database';

--------------------------------------
-- CREATE TRAINER
--------------------------------------
CREATE TABLE TRAINER (
    TRAINER_ID NUMBER,
    PERSONAL_DATA_ID NUMBER NOT NULL,
    NUMBER_OF_CERTIFICATIONS NUMBER,
    CONSTRAINT TRAINER_PK PRIMARY KEY (TRAINER_ID),
    CONSTRAINT TRAINER_PERSONAL_DATA_FK FOREIGN KEY (PERSONAL_DATA_ID) REFERENCES PERSONAL_DATA(PERSONAL_DATA_ID),
    CONSTRAINT TRAINER_NUMBER_OF_CERTIFICATIONS_CHECK CHECK(NUMBER_OF_CERTIFICATIONS >= 0)
);

--------------------------------------
-- CREATE GYM MEMBER
--------------------------------------
CREATE TABLE GYM_MEMBER (
    MEMBER_ID NUMBER,
    PERSONAL_DATA_ID NUMBER NOT NULL,
    SIGN_UP_DATE DATE NOT NULL,
    IS_SUSPENDED NUMBER(1),
    CONSTRAINT MEMBER_PK PRIMARY KEY(MEMBER_ID),
    CONSTRAINT MEMBER_PERSONAL_DATA_FK FOREIGN KEY (PERSONAL_DATA_ID) REFERENCES PERSONAL_DATA(PERSONAL_DATA_ID),
    CONSTRAINT MEMBER_IS_SUSPENDED_CHECK CHECK(IS_SUSPENDED IN(0,1))
);

-------------------------------------
-- CREATE MEMBERS HISTORY
-------------------------------------
CREATE TABLE MEMBERS_HISTORY_LOG (
    MEMBER_ID NUMBER,
    SIGN_UP_DATE DATE NOT NULL,
    ACCOUNT_SUSP_DATE DATE NOT NULL,
    PREVIOUS_ACCOUNT_STATE NUMBER(1),
    CONSTRAINT MEMBERS_HISTORY_PK PRIMARY KEY(MEMBER_ID, ACCOUNT_SUSP_DATE),
    CONSTRAINT MEMBERS_HISTORY_ID_FK FOREIGN KEY(MEMBER_ID) REFERENCES GYM_MEMBER(MEMBER_ID),
    CONSTRAINT ACCOUNT_STATE_CHECK CHECK(PREVIOUS_ACCOUNT_STATE IN (0,1))
);

COMMENT ON TABLE MEMBERS_HISTORY_LOG IS 'Log table for membres history.';

-------------------------------------
-- CREATE RECEPTIONIST
-------------------------------------
CREATE TABLE RECEPTIONIST(
    RECEPTIONIST_ID NUMBER,
    PERSONAL_DATA_ID NUMBER NOT NULL,
    IS_SENIOR_RECEPTIONIST NUMBER(1),
    CONSTRAINT RECEPTIONIST_PK PRIMARY KEY (RECEPTIONIST_ID),
    CONSTRAINT RECEPTIONIST_PERSONAL_DATA FOREIGN KEY(PERSONAL_DATA_ID) REFERENCES PERSONAL_DATA(PERSONAL_DATA_ID),
    CONSTRAINT IS_SENIOR CHECK (IS_SENIOR_RECEPTIONIST IN (0,1))
);

--------------------------------------
-- CREATE MEMBERSHIP
--------------------------------------
CREATE TABLE MEMBERSHIP (
    MEMBERSHIP_ID NUMBER,
    MEMBERSHIP_TYPE VARCHAR2(30 CHAR) NOT NULL,
    MEMBERSHIP_PRICE NUMBER NOT NULL,
    CONSTRAINT MEMBERSHIP_PK PRIMARY KEY(MEMBERSHIP_ID)
);

--------------------------------------
-- CREATE MEMBER_MEMBERSHIPS
--------------------------------------
CREATE TABLE MEMBER_MEMBERSHIPS(
    MEMBER_MEMBERSHIPS_ID NUMBER,
    MEMBERSHIP_ID NUMBER NOT NULL,
    MEMBER_ID NUMBER NOT NULL,
    PURCHASE_DATE DATE NOT NULL,
    EXPIRY_DATE DATE NOT NULL,
    CONSTRAINT MEMBER_MEMBERSHIPS_PK PRIMARY KEY(MEMBER_MEMBERSHIPS_ID),
    CONSTRAINT MEMBER_MEMBERSHIPS_MEMBERSHIP_FK FOREIGN KEY (MEMBERSHIP_ID) REFERENCES MEMBERSHIP(MEMBERSHIP_ID),
    CONSTRAINT MEMBER_MEMBERSHIPS_MEMBER_FK FOREIGN KEY (MEMBER_ID) REFERENCES GYM_MEMBER(MEMBER_ID)
);

--------------------------------------
-- CREATE WORKING HOURS
--------------------------------------
CREATE TABLE WORKING_HOURS(
    WORKING_ID NUMBER,
    START_TIME VARCHAR2(5 CHAR) NOT NULL,
    FINISH_TIME VARCHAR2(5 CHAR) NOT NULL,
    CONSTRAINT WORKING_PK PRIMARY KEY(WORKING_ID)
);

-------------------------------------
-- CREATE GROUP TRAINING
-------------------------------------
CREATE TABLE GROUP_TRAINING(
    GROUP_TRAINING_ID NUMBER,
    GROUP_TRAINING_NAME VARCHAR2(30 CHAR) NOT NULL,
    TRAINER_ID NUMBER NOT NULL,
    WORKING_ID NUMBER NOT NULL,
    CONSTRAINT GROUP_TRAINING_PK PRIMARY KEY(GROUP_TRAINING_ID),
    CONSTRAINT TRAINER_GROUP_FK FOREIGN KEY (TRAINER_ID) REFERENCES TRAINER(TRAINER_ID),
    CONSTRAINT WORKING_GROUP_FK FOREIGN KEY (WORKING_ID) REFERENCES WORKING_HOURS(WORKING_ID)
);

--------------------------------------
-- CREATE SCHEDULE FOR GROUP TRAININGS
--------------------------------------
CREATE TABLE GROUP_TRAINING_SCHEDULE(
    GROUP_TRAINING_SCHEDULE_ID NUMBER,
    GROUP_TRAINING_ID NUMBER NOT NULL,
    MEMBER_ID NUMBER NOT NULL,
    CONSTRAINT GROUP_TRAINING_SCHEDULE_PK PRIMARY KEY(GROUP_TRAINING_SCHEDULE_ID),
    CONSTRAINT GROUP_TRAINING_FK FOREIGN KEY(GROUP_TRAINING_ID) REFERENCES GROUP_TRAINING(GROUP_TRAINING_ID),
    CONSTRAINT GROUP_MEMBER_FK FOREIGN KEY(MEMBER_ID) REFERENCES GYM_MEMBER(MEMBER_ID)
);

--------------------------------------
-- CREATE SCHEDULE HOUR FOR TAINERS
--------------------------------------
CREATE TABLE TRAINER_HOURS (
    SHIFT_ID NUMBER,
    TRAINER_ID NUMBER NOT NULL,
    WORKING_ID NUMBER NOT NULL,
    MEMBER_ID NUMBER,
    IS_ACTIVE NUMBER(1),
    CONSTRAINT SHIFT_PK PRIMARY KEY(SHIFT_ID),
    CONSTRAINT TRAINER_HOURS_FK FOREIGN KEY (TRAINER_ID) REFERENCES TRAINER(TRAINER_ID),
    CONSTRAINT WORKING_HOURS_FK FOREIGN KEY (WORKING_ID) REFERENCES WORKING_HOURS(WORKING_ID),
    CONSTRAINT MEMBER_HOURS_FK FOREIGN KEY (MEMBER_ID) REFERENCES GYM_MEMBER(MEMBER_ID),
    CONSTRAINT IS_ACTIVE CHECK ( IS_ACTIVE IN (0,1) )
);

--------------------------------------
-- CREATE SHOP
--------------------------------------
CREATE TABLE SHOP (
    SHOP_ID NUMBER,
    SHOP_NAME VARCHAR2(20 CHAR) NOT NULL,
    ADDRESS_ID NUMBER,
    CONSTRAINT SHOP_PK PRIMARY KEY(SHOP_ID),
    CONSTRAINT SHOP_ADDRESS_FK FOREIGN KEY (ADDRESS_ID) REFERENCES ADDRESS(ADDRESS_ID)
);

--------------------------------------
-- CREATE PRODUCTS FOR THE SHOP
--------------------------------------
CREATE TABLE PRODUCTS(
    PRODUCT_ID NUMBER,
    PRODUCT_PRICE NUMBER NOT NULL,
    PRODUCT_NAME VARCHAR2(20 CHAR) NOT NULL,
    CONSTRAINT PRODUCT_PK PRIMARY KEY(PRODUCT_ID)
);

--------------------------------------
-- CREATE LIST OF PRODUCTS
--------------------------------------
CREATE TABLE SHOP_PRODUCTS (
    LISTING_ID NUMBER,
    SHOP_ID NUMBER NOT NULL,
    PRODUCT_ID NUMBER NOT NULL,
    CONSTRAINT LISTING_PK PRIMARY KEY(LISTING_ID),
    CONSTRAINT SHOP_LIST_FK FOREIGN KEY(SHOP_ID) REFERENCES SHOP(SHOP_ID),
    CONSTRAINT PRODUCT_LIST FOREIGN KEY(PRODUCT_ID) REFERENCES PRODUCTS(PRODUCT_ID)
);

--------------------------------------
-- CREATE VIEVS
--------------------------------------
CREATE OR REPLACE VIEW AVAILABLE_TRAINERS_VIEW AS
SELECT PERSONAL_DATA.LAST_NAME AS "Last name", PERSONAL_DATA.FIRST_NAME AS "First name", WORKING_HOURS.START_TIME AS "Start", WORKING_HOURS.FINISH_TIME AS "Finish"
FROM TRAINER_HOURS
JOIN WORKING_HOURS USING(WORKING_ID)
JOIN TRAINER USING(TRAINER_ID)
JOIN PERSONAL_DATA ON TRAINER.PERSONAL_DATA_ID=personal_data.personal_data_id
WHERE IS_ACTIVE = 1 AND MEMBER_ID IS NULL
ORDER BY PERSONAL_DATA.LAST_NAME DESC;

CREATE OR REPLACE VIEW ACTIVE_MEMBERSHIPS_VIEW AS
SELECT FIRST_NAME AS "First name", LAST_NAME AS "Last name", EXPIRY_DATE AS "Expiry date", MEMBERSHIP_TYPE AS "Membership type" 
FROM member_memberships
JOIN GYM_MEMBER USING(MEMBER_ID)
JOIN PERSONAL_DATA USING(PERSONAL_DATA_ID)
JOIN MEMBERSHIP USING(MEMBERSHIP_ID)
WHERE member_memberships.expiry_date > CURRENT_DATE;

CREATE OR REPLACE VIEW PRODUCTS_IN_SHOPS_VIEW AS
SELECT SHOP_NAME AS "Shop name", PRODUCT_NAME as "Product name", PRODUCT_PRICE as "Price [zl]"
FROM SHOP_PRODUCTS
JOIN PRODUCTS USING(PRODUCT_ID)
JOIN SHOP USING(SHOP_ID)
ORDER BY SHOP_NAME ASC;

CREATE OR REPLACE VIEW GROUP_TRAININGS_LIST_VIEW AS
SELECT GROUP_TRAINING_NAME AS "Training name", FIRST_NAME AS "First name", LAST_NAME AS "Last name", START_TIME AS "Start", FINISH_TIME AS "Finish"
FROM GROUP_TRAINING
JOIN WORKING_HOURS USING(WORKING_ID)
JOIN TRAINER USING(TRAINER_ID)
JOIN PERSONAL_DATA USING(PERSONAL_DATA_ID);

------------------------------
-- INSERTING INTO MEMBERSHIPS
------------------------------
INSERT INTO MEMBERSHIP(MEMBERSHIP_ID, MEMBERSHIP_TYPE, MEMBERSHIP_PRICE)
VALUES(1, 'Open 24', 145.99);
INSERT INTO MEMBERSHIP(MEMBERSHIP_ID, MEMBERSHIP_TYPE, MEMBERSHIP_PRICE) 
VALUES(2, 'Uczniowski', 79.99);
INSERT INTO MEMBERSHIP(MEMBERSHIP_ID, MEMBERSHIP_TYPE, MEMBERSHIP_PRICE) 
VALUES(3, 'Studencki', 89.99);
INSERT INTO MEMBERSHIP(MEMBERSHIP_ID, MEMBERSHIP_TYPE, MEMBERSHIP_PRICE)
VALUES(4, 'Zajecia grupowe', 145.99);
INSERT INTO MEMBERSHIP(MEMBERSHIP_ID, MEMBERSHIP_TYPE, MEMBERSHIP_PRICE)
VALUES(5, 'Sauna Open', 49.99);

-----------------------------------------
--       INSERTING INTO ADDRESSES
-----------------------------------------
INSERT INTO ADDRESS(ADDRESS_ID, POSTCODE, CITY, STREET)
VALUES (1, '77-256', 'Lubsza', 'Piastowice 48a');
INSERT INTO ADDRESS VALUES (2, '47-224', 'Kedzierzyn-Kozle', 'Tartaczna 5/3');
INSERT INTO ADDRESS VALUES (3, '47-224', 'Kedzierzyn-Kozle', 'Kozielska 2');
INSERT INTO ADDRESS VALUES (4, '37-255', 'Wroclaw', 'Gornickiego 35');
INSERT INTO ADDRESS VALUES (5, '21-556', 'Opole', 'Dubois 5');
INSERT INTO ADDRESS VALUES (6, '32-123', 'Grzybnia', '15');
INSERT INTO ADDRESS VALUES (7, '33-789', 'Kadlub Turawski', '2');
INSERT INTO ADDRESS VALUES (8, '75-226', 'Wroclaw', 'Katowicka 14');
INSERT INTO ADDRESS VALUES (9, '71-956', 'Gdynia', 'Polna 7a');
INSERT INTO ADDRESS VALUES (10, '48-221', 'Kedzierzyn-Kozle', 'Gliwicka 8');
INSERT INTO ADDRESS VALUES (11, '14-226', 'Zawada', 'Parkowa 18');
INSERT INTO ADDRESS VALUES (12, '15-365', 'Raszowa', 'Akacjowa 7');
INSERT INTO ADDRESS VALUES (13, '16-845', 'Sopot', 'Sosnowa 158');
INSERT INTO ADDRESS VALUES (14, '71-625', 'Zakopane', 'Ogrodowa 2');
INSERT INTO ADDRESS VALUES (15, '74-625', 'Ustrzyki Dolne', 'Polna 19');
INSERT INTO ADDRESS VALUES (16, '65-485', 'Sopot', 'Zielona 3');
INSERT INTO ADDRESS VALUES (17, '48-625', 'Opole', 'Krakowska 89d');
INSERT INTO ADDRESS VALUES (18, '84-212', 'Bialystok', 'Szkolna 12');
INSERT INTO ADDRESS VALUES (19, '14-695', 'Wroclaw', 'Sosnowa 9/5');
INSERT INTO ADDRESS VALUES (20, '16-685', 'Wroclaw', 'Ogrodowa 7');
INSERT INTO ADDRESS VALUES (21, '19-658', 'Opole', 'Lipowa 3');
INSERT INTO ADDRESS VALUES (22, '34-485', 'Krakow', 'Sloneczna 15');
INSERT INTO ADDRESS VALUES (23, '15-885', 'Krakow', 'Polna 95c');
INSERT INTO ADDRESS VALUES (24, '15-885', 'Krakow', 'Polna 15e');


----------------------------------------
-- INSERTING INTO PERSONAL DATA
----------------------------------------
INSERT INTO PERSONAL_DATA VALUES(1, 'Kamil', 'Kowalewski', 1, '158659426', 'kamilKow@gmail.com');
INSERT INTO PERSONAL_DATA VALUES(2, 'Artur', 'Rejment', 2, '956428614', 'arturRejm@gmail.com');
INSERT INTO PERSONAL_DATA VALUES(3, 'Hikaru', 'Nakamura', 3, '846253145', 'hikaruNakam@gmail.com');
INSERT INTO PERSONAL_DATA VALUES(4, 'Sowa', 'Sowczak', 4, '846523419', 'sowaGetto@wp.pl');
INSERT INTO PERSONAL_DATA VALUES(5, 'Krystyna', 'Stecka', 5, '225486335', 'krystynaStec@gmail.com');
INSERT INTO PERSONAL_DATA VALUES(6, 'Andrzej', 'Baginski', 6, '846235114', 'andrzejBag@gmail.com');
INSERT INTO PERSONAL_DATA VALUES(7, 'Krzysztof', 'Farys', 7, '846951326', 'krzysztofFary@gmail.com');
INSERT INTO PERSONAL_DATA VALUES(8, 'Magnum', 'Carlos', 8, '114258647', 'magnumCarl@gmail.com');
INSERT INTO PERSONAL_DATA VALUES(9, 'Marianczello', 'Dominoni', 9, '994336512', 'marianczello@gmail.com');
INSERT INTO PERSONAL_DATA VALUES(10, 'Patryk', 'Lach', 10 , '158659426', 'patrykLach@gmail.com');
INSERT INTO PERSONAL_DATA VALUES(11, 'Giffy' ,' Tatton', 11 ,'245115590', 'gtatton0@bucket.com');
INSERT INTO PERSONAL_DATA VALUES(12, 'Shanda', 'Iddy', 12 , '980674371', 'siddy1@yellowbook.com');
INSERT INTO PERSONAL_DATA VALUES(13,'Courtnay', 'Lloyd', 13, '686194990', 'clloyd3@nytimes.com');
INSERT INTO PERSONAL_DATA VALUES(14, 'Babbette', 'Gewer' , 14, '71983962', 'bgewer8@utexas.edu');
INSERT INTO PERSONAL_DATA VALUES(15, 'Crissie', 'Perview', 15, '509075420', 'cperviewa@w3.org');
INSERT INTO PERSONAL_DATA VALUES(16, 'Adelaida', 'Conkay', 16, '519777852', 'aconkayb@hp.com');
INSERT INTO PERSONAL_DATA VALUES(17, 'Morry', 'Chainey', 17, '166507789', 'mchaineyd@rediff.com');
INSERT INTO PERSONAL_DATA VALUES(18, 'Jeffie', 'Dayton', 18, '172113953', 'jdaytonf@sohu.com');
INSERT INTO PERSONAL_DATA VALUES(19, 'Cindie', 'Brady', 19, '679742828', 'cbradyj@nps.gov');


----------------------------------------
--        INSERT INTO WORKING HOURS
----------------------------------------
INSERT INTO WORKING_HOURS VALUES(1, '7:00', '8:00');
INSERT INTO WORKING_HOURS VALUES(2, '8:00', '9:00');
INSERT INTO WORKING_HOURS VALUES(3, '9:00', '10:00');
INSERT INTO WORKING_HOURS VALUES(4, '10:00', '11:00');
INSERT INTO WORKING_HOURS VALUES(5, '11:00', '12:00');
INSERT INTO WORKING_HOURS VALUES(6, '12:00', '13:00');
INSERT INTO WORKING_HOURS VALUES(7, '13:00', '14:00');
INSERT INTO WORKING_HOURS VALUES(8, '14:00', '15:00');
INSERT INTO WORKING_HOURS VALUES(9, '15:00', '16:00');
INSERT INTO WORKING_HOURS VALUES(10, '16:00', '17:00');
INSERT INTO WORKING_HOURS VALUES(11, '17:00', '18:00');
INSERT INTO WORKING_HOURS VALUES(12, '18:00', '19:00');
INSERT INTO WORKING_HOURS VALUES(13, '19:00', '20:00');
INSERT INTO WORKING_HOURS VALUES(14, '20:00', '21:00');
INSERT INTO WORKING_HOURS VALUES(15, '21:00', '22:00');

-----------------------------------------
--    INSERT INTO SHOP, PRODUCTS AND LIST
-----------------------------------------
INSERT INTO SHOP VALUES(1, 'Gym Fit Shop', NULL);
INSERT INTO SHOP VALUES(2, 'KFD Shop', 20);
INSERT INTO SHOP VALUES(3, 'Tesc Shop', 21);
INSERT INTO SHOP VALUES(4, 'SFD Centrum', 22);
INSERT INTO SHOP VALUES(5, 'Olimp Distro', 23);
INSERT INTO PRODUCTS VALUES(1, 80.00, 'Protein WPC 80%');
INSERT INTO PRODUCTS VALUES(2, 6.00, 'Dzik Energy');
INSERT INTO PRODUCTS VALUES(3, 2.49, 'Lody Ekipy');
INSERT INTO PRODUCTS VALUES(4, 59.99, 'Bomba');
INSERT INTO PRODUCTS VALUES(5, 420.00, 'Testosteron');
INSERT INTO PRODUCTS VALUES(6, 5.50, 'Woda');
INSERT INTO PRODUCTS VALUES(7, 2137.99, 'Sztanga i gryf');
INSERT INTO PRODUCTS VALUES(8, 15.59, 'Kreatyna 200g');
INSERT INTO PRODUCTS VALUES(9, 39.99, 'Cytrulina');
INSERT INTO PRODUCTS VALUES(10, 3.99, 'Baton proteinowy');
INSERT INTO SHOP_PRODUCTS(LISTING_ID, SHOP_ID, PRODUCT_ID) VALUES (1, 1, 1);
INSERT INTO SHOP_PRODUCTS(LISTING_ID, SHOP_ID, PRODUCT_ID) VALUES (2, 1, 2);
INSERT INTO SHOP_PRODUCTS(LISTING_ID, SHOP_ID, PRODUCT_ID) VALUES (3, 1, 3);
INSERT INTO SHOP_PRODUCTS(LISTING_ID, SHOP_ID, PRODUCT_ID) VALUES (4, 1, 4);
INSERT INTO SHOP_PRODUCTS(LISTING_ID, SHOP_ID, PRODUCT_ID) VALUES (5, 1, 5);
INSERT INTO SHOP_PRODUCTS(LISTING_ID, SHOP_ID, PRODUCT_ID) VALUES (6, 1, 6);
INSERT INTO SHOP_PRODUCTS(LISTING_ID, SHOP_ID, PRODUCT_ID) VALUES (8, 2, 6);
INSERT INTO SHOP_PRODUCTS(LISTING_ID, SHOP_ID, PRODUCT_ID) VALUES (9, 2, 3);
INSERT INTO SHOP_PRODUCTS(LISTING_ID, SHOP_ID, PRODUCT_ID) VALUES (10, 2, 4);
INSERT INTO SHOP_PRODUCTS(LISTING_ID, SHOP_ID, PRODUCT_ID) VALUES (11, 3, 5);
INSERT INTO SHOP_PRODUCTS(LISTING_ID, SHOP_ID, PRODUCT_ID) VALUES (12, 4, 2);
INSERT INTO SHOP_PRODUCTS(LISTING_ID, SHOP_ID, PRODUCT_ID) VALUES (13, 4, 4);
INSERT INTO SHOP_PRODUCTS(LISTING_ID, SHOP_ID, PRODUCT_ID) VALUES (14, 4, 6);
INSERT INTO SHOP_PRODUCTS(LISTING_ID, SHOP_ID, PRODUCT_ID) VALUES (15, 5, 1);
INSERT INTO SHOP_PRODUCTS(LISTING_ID, SHOP_ID, PRODUCT_ID) VALUES (16, 5, 2);
INSERT INTO SHOP_PRODUCTS(LISTING_ID, SHOP_ID, PRODUCT_ID) VALUES (17, 5, 3);
INSERT INTO SHOP_PRODUCTS(LISTING_ID, SHOP_ID, PRODUCT_ID) VALUES (18, 5, 4);
INSERT INTO SHOP_PRODUCTS(LISTING_ID, SHOP_ID, PRODUCT_ID) VALUES (19, 5, 5);
INSERT INTO SHOP_PRODUCTS(LISTING_ID, SHOP_ID, PRODUCT_ID) VALUES (20, 1, 8);
INSERT INTO SHOP_PRODUCTS(LISTING_ID, SHOP_ID, PRODUCT_ID) VALUES (21, 2, 9);
INSERT INTO SHOP_PRODUCTS(LISTING_ID, SHOP_ID, PRODUCT_ID) VALUES (22, 3, 5);
INSERT INTO SHOP_PRODUCTS(LISTING_ID, SHOP_ID, PRODUCT_ID) VALUES (23, 4, 8);
INSERT INTO SHOP_PRODUCTS(LISTING_ID, SHOP_ID, PRODUCT_ID) VALUES (24, 1, 7);


---------------------------------------
--       INSERT INTO TRAINERS
---------------------------------------
INSERT INTO TRAINER(TRAINER_ID, PERSONAL_DATA_ID, NUMBER_OF_CERTIFICATIONS) VALUES(1, 1, 3);
INSERT INTO TRAINER(TRAINER_ID, PERSONAL_DATA_ID, NUMBER_OF_CERTIFICATIONS) VALUES(2, 2, 5);
INSERT INTO TRAINER(TRAINER_ID, PERSONAL_DATA_ID, NUMBER_OF_CERTIFICATIONS) VALUES(3, 3, 1);
INSERT INTO TRAINER(TRAINER_ID, PERSONAL_DATA_ID, NUMBER_OF_CERTIFICATIONS) VALUES(4, 4, 15);
INSERT INTO TRAINER(TRAINER_ID, PERSONAL_DATA_ID, NUMBER_OF_CERTIFICATIONS) VALUES(5, 5, 4);

--------------------------------------
--    INSERT INTO GYM_MEMBERS
--------------------------------------
INSERT INTO GYM_MEMBER(MEMBER_ID, PERSONAL_DATA_ID, SIGN_UP_DATE, IS_SUSPENDED)
VALUES(1, 6,  to_date('05/12/2020', 'DD/MM/RRRR'), 0);
INSERT INTO GYM_MEMBER(MEMBER_ID, PERSONAL_DATA_ID, SIGN_UP_DATE, IS_SUSPENDED)
VALUES(2, 7,  to_date('11/12/2020', 'DD/MM/RRRR'), 0);
INSERT INTO GYM_MEMBER(MEMBER_ID, PERSONAL_DATA_ID, SIGN_UP_DATE, IS_SUSPENDED)
VALUES(3, 8,  to_date('02/12/2020', 'DD/MM/RRRR'), 0);
INSERT INTO GYM_MEMBER(MEMBER_ID, PERSONAL_DATA_ID, SIGN_UP_DATE, IS_SUSPENDED)
VALUES(4, 9,  to_date('12/11/2020', 'DD/MM/RRRR'), 0);
INSERT INTO GYM_MEMBER(MEMBER_ID, PERSONAL_DATA_ID, SIGN_UP_DATE, IS_SUSPENDED)
VALUES(5, 10,  to_date('17/10/2020', 'DD/MM/RRRR'), 1);
INSERT INTO GYM_MEMBER(MEMBER_ID, PERSONAL_DATA_ID, SIGN_UP_DATE, IS_SUSPENDED)
VALUES(6, 11,  to_date('13/01/2021', 'DD/MM/RRRR'), 0);
INSERT INTO GYM_MEMBER(MEMBER_ID, PERSONAL_DATA_ID, SIGN_UP_DATE, IS_SUSPENDED)
VALUES(7, 12,  to_date('01/01/2021', 'DD/MM/RRRR'), 0);
INSERT INTO GYM_MEMBER(MEMBER_ID, PERSONAL_DATA_ID, SIGN_UP_DATE, IS_SUSPENDED)
VALUES(8, 13,  to_date('03/02/2021', 'DD/MM/RRRR'), 0);
INSERT INTO GYM_MEMBER(MEMBER_ID, PERSONAL_DATA_ID, SIGN_UP_DATE, IS_SUSPENDED)
VALUES(9, 19,  to_date('21/01/2021', 'DD/MM/RRRR'), 0);

--------------------------------------
-- INSERT INTO RECEPTIONIST
--------------------------------------
INSERT INTO RECEPTIONIST(RECEPTIONIST_ID, PERSONAL_DATA_ID, IS_SENIOR_RECEPTIONIST) 
VALUES(1, 14, 1);
INSERT INTO RECEPTIONIST(RECEPTIONIST_ID, PERSONAL_DATA_ID, IS_SENIOR_RECEPTIONIST) 
VALUES(2, 15, 0);
INSERT INTO RECEPTIONIST(RECEPTIONIST_ID, PERSONAL_DATA_ID, IS_SENIOR_RECEPTIONIST) 
VALUES(3, 16, 0);
INSERT INTO RECEPTIONIST(RECEPTIONIST_ID, PERSONAL_DATA_ID, IS_SENIOR_RECEPTIONIST) 
VALUES(4, 17, 0);
INSERT INTO RECEPTIONIST(RECEPTIONIST_ID, PERSONAL_DATA_ID, IS_SENIOR_RECEPTIONIST) 
VALUES(5, 18, 1);

--------------------------------------
-- INSERT INTO GRUOP TRAININGS
--------------------------------------
INSERT INTO GROUP_TRAINING(GROUP_TRAINING_ID, GROUP_TRAINING_NAME, TRAINER_ID, WORKING_ID)
VALUES(1, 'Zumba z Arczim', 2, 1);
INSERT INTO GROUP_TRAINING(GROUP_TRAINING_ID, GROUP_TRAINING_NAME, TRAINER_ID, WORKING_ID)
VALUES(2, 'Wyciskanie z Sowa', 4, 3);
INSERT INTO GROUP_TRAINING(GROUP_TRAINING_ID, GROUP_TRAINING_NAME, TRAINER_ID, WORKING_ID)
VALUES(3, 'Joga bez Maty', 1, 6);
INSERT INTO GROUP_TRAINING(GROUP_TRAINING_ID, GROUP_TRAINING_NAME, TRAINER_ID, WORKING_ID)
VALUES(4, 'Blitz z Hikaru', 3, 12);
INSERT INTO GROUP_TRAINING(GROUP_TRAINING_ID, GROUP_TRAINING_NAME, TRAINER_ID, WORKING_ID)
VALUES(5, 'Bulgarski przysiad z Krysia', 5, 7);

--------------------------------------
-- INSERT INTO GROUP TRAININGS SCHEDULE
---------------------------------------
INSERT INTO GROUP_TRAINING_SCHEDULE(GROUP_TRAINING_SCHEDULE_ID, GROUP_TRAINING_ID, MEMBER_ID)
VALUES(1, 1, 1);
INSERT INTO GROUP_TRAINING_SCHEDULE(GROUP_TRAINING_SCHEDULE_ID, GROUP_TRAINING_ID, MEMBER_ID)
VALUES(2, 1, 3);
INSERT INTO GROUP_TRAINING_SCHEDULE(GROUP_TRAINING_SCHEDULE_ID, GROUP_TRAINING_ID, MEMBER_ID)
VALUES(3, 1, 4);
INSERT INTO GROUP_TRAINING_SCHEDULE(GROUP_TRAINING_SCHEDULE_ID, GROUP_TRAINING_ID, MEMBER_ID)
VALUES(4, 2, 2);
INSERT INTO GROUP_TRAINING_SCHEDULE(GROUP_TRAINING_SCHEDULE_ID, GROUP_TRAINING_ID, MEMBER_ID)
VALUES(5, 2, 1);
INSERT INTO GROUP_TRAINING_SCHEDULE(GROUP_TRAINING_SCHEDULE_ID, GROUP_TRAINING_ID, MEMBER_ID)
VALUES(6, 3, 4);
INSERT INTO GROUP_TRAINING_SCHEDULE(GROUP_TRAINING_SCHEDULE_ID, GROUP_TRAINING_ID, MEMBER_ID)
VALUES(7, 4, 3);

--------------------------------------
--     INSERT INTO SHIFTS
--------------------------------------
INSERT INTO TRAINER_HOURS VALUES(1, 1, 1, NULL, 0);
INSERT INTO TRAINER_HOURS VALUES(2, 1, 2,NULL, 0);
INSERT INTO TRAINER_HOURS VALUES(3, 1, 3,NULL, 0);
INSERT INTO TRAINER_HOURS VALUES(4, 1, 4,NULL, 0);
INSERT INTO TRAINER_HOURS VALUES(5, 1, 5,NULL, 1);
INSERT INTO TRAINER_HOURS VALUES(6, 1, 6, NULL, 1);
INSERT INTO TRAINER_HOURS VALUES(7, 1, 7,NULL, 1);
--
INSERT INTO TRAINER_HOURS VALUES(8, 2, 1,NULL, 1);
INSERT INTO TRAINER_HOURS VALUES(9, 2, 2, NULL,1);
INSERT INTO TRAINER_HOURS VALUES(10, 2, 3,NULL, 0);
INSERT INTO TRAINER_HOURS VALUES(11, 2, 4,NULL, 1);
INSERT INTO TRAINER_HOURS VALUES(12, 2, 5,NULL, 0);
INSERT INTO TRAINER_HOURS VALUES(13, 2, 6,NULL, 1);
INSERT INTO TRAINER_HOURS VALUES(14, 2, 7,NULL, 1);
INSERT INTO TRAINER_HOURS VALUES(15, 2, 8,NULL, 1);
--
INSERT INTO TRAINER_HOURS VALUES(16, 3, 9,NULL, 1);
INSERT INTO TRAINER_HOURS VALUES(17, 3, 10,NULL, 1);
INSERT INTO TRAINER_HOURS VALUES(18, 3, 11, 1, 1);
INSERT INTO TRAINER_HOURS VALUES(19, 3, 12, 3, 1);
INSERT INTO TRAINER_HOURS VALUES(20, 3, 13,NULL, 1);
INSERT INTO TRAINER_HOURS VALUES(21, 3, 14,NULL, 0);
INSERT INTO TRAINER_HOURS VALUES(22, 3, 15,NULL, 1);
--
INSERT INTO TRAINER_HOURS VALUES(23, 4, 9,NULL, 1);
INSERT INTO TRAINER_HOURS VALUES(24, 4, 10,NULL, 1);
INSERT INTO TRAINER_HOURS VALUES(25, 4, 11,NULL, 1);
INSERT INTO TRAINER_HOURS VALUES(26, 4, 12,NULL, 1);
INSERT INTO TRAINER_HOURS VALUES(27, 4, 13,NULL, 1);
INSERT INTO TRAINER_HOURS VALUES(28, 4, 14, 2, 1);
INSERT INTO TRAINER_HOURS VALUES(29, 4, 15,NULL, 1);
--
INSERT INTO TRAINER_HOURS VALUES(30, 5, 3,NULL, 0);
INSERT INTO TRAINER_HOURS VALUES(31, 5, 6,NULL, 0);
INSERT INTO TRAINER_HOURS VALUES(32, 5, 5,NULL, 1);
INSERT INTO TRAINER_HOURS VALUES(33, 5, 7, 1, 1);
INSERT INTO TRAINER_HOURS VALUES(34, 5, 1,NULL, 1);
INSERT INTO TRAINER_HOURS VALUES(35, 5, 11,NULL, 1);
INSERT INTO TRAINER_HOURS VALUES(36, 5, 13,NULL, 1);

-------------------------------------
-- INSERTING INTO MEMBER_MEMBERSHIPS
-------------------------------------
INSERT INTO MEMBER_MEMBERSHIPS VALUES(1, 1, 3, to_date('05/12/2020', 'DD/MM/RRRR'), to_date('05/01/2021', 'DD/MM/RRRR'));
INSERT INTO MEMBER_MEMBERSHIPS VALUES(2, 1, 3, to_date('06/01/2021', 'DD/MM/RRRR'), to_date('06/02/2021', 'DD/MM/RRRR'));
INSERT INTO MEMBER_MEMBERSHIPS VALUES(3, 2, 1, to_date('25/07/2020', 'DD/MM/RRRR'), to_date('25/08/2020', 'DD/MM/RRRR'));
INSERT INTO MEMBER_MEMBERSHIPS VALUES(4, 3, 2, to_date('04/05/2021', 'DD/MM/RRRR'), to_date('04/06/2021', 'DD/MM/RRRR'));
INSERT INTO MEMBER_MEMBERSHIPS VALUES(5, 4, 4, to_date('09/11/2020', 'DD/MM/RRRR'), to_date('09/12/2020', 'DD/MM/RRRR'));
INSERT INTO MEMBER_MEMBERSHIPS VALUES(6, 1, 3, to_date('04/05/2021', 'DD/MM/RRRR'), to_date('04/06/2021', 'DD/MM/RRRR'));
INSERT INTO MEMBER_MEMBERSHIPS VALUES(7, 4, 1, to_date('28/04/2021', 'DD/MM/RRRR'), to_date('28/05/2021', 'DD/MM/RRRR'));

--------------------------------------
-- INSERTING INTO MEMBERS_HISTORY_LOG
--------------------------------------
INSERT INTO MEMBERS_HISTORY_LOG(MEMBER_ID, SIGN_UP_DATE, ACCOUNT_SUSP_DATE, PREVIOUS_ACCOUNT_STATE)
VALUES (3, to_date('02/12/2020', 'DD/MM/RRRR'), to_date('12/01/2021', 'DD/MM/RRRR'), 0);
INSERT INTO MEMBERS_HISTORY_LOG(MEMBER_ID, SIGN_UP_DATE, ACCOUNT_SUSP_DATE, PREVIOUS_ACCOUNT_STATE)
VALUES (5, to_date('17/10/2020', 'DD/MM/RRRR'), to_date('03/02/2021', 'DD/MM/RRRR'), 0);
INSERT INTO MEMBERS_HISTORY_LOG(MEMBER_ID, SIGN_UP_DATE, ACCOUNT_SUSP_DATE, PREVIOUS_ACCOUNT_STATE)
VALUES (3, to_date('02/12/2020', 'DD/MM/RRRR'), to_date('13/01/2021', 'DD/MM/RRRR'), 1);
INSERT INTO MEMBERS_HISTORY_LOG(MEMBER_ID, SIGN_UP_DATE, ACCOUNT_SUSP_DATE, PREVIOUS_ACCOUNT_STATE)
VALUES (7, to_date('01/01/2021', 'DD/MM/RRRR'), to_date('05/02/2021', 'DD/MM/RRRR'), 0);
INSERT INTO MEMBERS_HISTORY_LOG(MEMBER_ID, SIGN_UP_DATE, ACCOUNT_SUSP_DATE, PREVIOUS_ACCOUNT_STATE)
VALUES (7, to_date('01/01/2021', 'DD/MM/RRRR'), to_date('06/02/2021', 'DD/MM/RRRR'), 1);


CREATE OR REPLACE TRIGGER "UPDATE_MEMBERS_HISTORY_LOG"
AFTER UPDATE OF is_suspended ON GYM_MEMBER
FOR EACH ROW
BEGIN
        add_member_history(:old.member_id, :old.sign_up_date, sysdate, :old.is_suspended);
END;
/
ALTER TRIGGER "UPDATE_MEMBERS_HISTORY_LOG" ENABLE;

SET DEFINE OFF;

CREATE OR REPLACE PROCEDURE "ADD_MEMBER_HISTORY"
(
    p_mem_id      members_history_log.member_id%type,
    p_sign_date   members_history_log.sign_up_date%type,
    p_susp        members_history_log.account_susp_date%type,
    p_state       members_history_log.previous_account_state%type
)
IS
BEGIN
    INSERT INTO MEMBERS_HISTORY_LOG(MEMBER_ID, SIGN_UP_DATE, ACCOUNT_SUSP_DATE, PREVIOUS_ACCOUNT_STATE)
    VALUES(p_mem_id, p_sign_date, p_susp, p_state);
END;





